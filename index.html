<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>çµ¦èå…’çš„ä¿¡â¤ï¸</title>
<style>
  * { margin:0; padding:0; box-sizing:border-box; }
  html, body { width:100%; height:100%; overflow:hidden; background:#000; font-family:'Segoe UI',sans-serif; }

  #background { position:fixed; top:0; left:0; width:100%; height:100%; z-index:0; pointer-events:none; }
  .star { position:absolute; width:2px; height:2px; background:#fff; border-radius:50%; animation:twinkle 2s infinite ease-in-out; }
  @keyframes twinkle {0%,100%{opacity:0.2;}50%{opacity:1;}}

  .meteor { position:absolute; width:120px; height:2px; background:linear-gradient(to left, #fff, transparent); transform:rotate(45deg); animation:shoot 3s linear infinite; pointer-events:none; }
  @keyframes shoot { 0%{opacity:1;}100%{opacity:0; transform:translate(500px,500px) rotate(45deg);} }

  #fireworks { position:fixed; top:0; left:0; width:100%; height:100%; z-index:1; pointer-events:none; display:none; }

  .container { position:fixed; top:50%; left:50%; transform:translate(-50%,-50%); z-index:2; display:flex; flex-direction:column; align-items:center; pointer-events:auto; }
  #letterBox { cursor:pointer; }
  #hint { margin-top:8px; font-size:1.2rem; color:#ffeb3b; animation:blink 1.5s infinite; pointer-events:none; }
  @keyframes blink {0%,100%{opacity:1;}50%{opacity:0.3;}}

  #messageContainer { margin-top:20px; display:flex; flex-direction:column; align-items:center; }
  .message {
    font-size:1.8rem;
    white-space:nowrap;
    opacity:0;
    animation:float 4s ease-in-out, glow 3s ease-in-out infinite alternate;
    background: linear-gradient(45deg, #ff9ec4, #ffd6f2, #ffffff);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    text-shadow: 0 0 10px #ff9ec4, 0 0 20px #ffd6f2, 0 0 30px #ffffff;
  }

  @keyframes float {
    0% {
      transform: translate(0,10px);
      opacity:0;
    }
    10%, 90% {
      opacity:1;
    }
    100% {
      transform: translate(calc(var(--x,0px)), -50px); /* å¾€ä¸Šç§»å‹•50px */
      opacity:0; /* æ…¢æ…¢æ¶ˆå¤± */
    }
  }

  .final {
    font-size:2.2rem;
    font-weight:bold;
    animation:heartBeat 1s ease-in-out infinite alternate, glow 3s ease-in-out infinite alternate;
    background: linear-gradient(45deg, #ff99cc, #ff66cc, #ffccff);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    text-shadow: 0 0 15px #ff99cc, 0 0 25px #ff66cc, 0 0 35px #ffccff;
  }

  @keyframes heartBeat {
    0% { transform: scale(1); }
    25% { transform: scale(1.3) rotate(-5deg); }
    50% { transform: scale(1.5) rotate(5deg); }
    75% { transform: scale(1.3) rotate(-5deg); }
    100% { transform: scale(1); }
  }

  #controlButtons { margin-top: 40px; display: flex; gap: 20px; }
  .btn {
    padding: 10px 20px;
    background: rgba(255,255,255,0.1);
    border: 2px solid #fff;
    color: #fff;
    border-radius: 10px;
    font-size: 1rem;
    cursor: pointer;
    transition: 0.3s;
  }
  .btn:hover { background: rgba(255,255,255,0.3); }
</style>
</head>
<body>
<div id="background"></div>

<canvas id="fireworks"></canvas>

<div class="container">
  <div id="letterBox">
    <img src="letter.gif" width="180" alt="å‘Šç™½ä¿¡">
    <div id="hint">â¤ï¸â¤ï¸â¤ï¸â¤ï¸â¤ï¸â¤ï¸â¤ï¸</div>
  </div>
  <div id="messageContainer"></div>
  <div id="controlButtons" style="display:none;">
    <button class="btn" onclick="replayLetter()">é‡æ’­ ğŸ¬</button>
    <button class="btn" onclick="returnMain()">è¿”å› ğŸ’Œ</button>
  </div>
  <audio id="bgMusic" src="ai_ni.mp3" loop></audio>
</div>

<script>
  const typingSpeed = 100; // æ‰“å­—é€Ÿåº¦ï¼Œå–®ä½ ms

  const bg = document.getElementById('background');
  for(let i=0;i<100;i++){
    const s=document.createElement('div');
    s.className='star';
    s.style.top=Math.random()*100+'vh';
    s.style.left=Math.random()*100+'vw';
    s.style.animationDelay=Math.random()*3+'s';
    bg.appendChild(s);
  }
  for(let i=0;i<22;i++){
    const m=document.createElement('div');
    m.className='meteor';
    if(Math.random()<0.5){
      m.style.left='-20%';
      m.style.top=Math.random()*100+'vh';
    }else{
      m.style.top='-20%';
      m.style.left=Math.random()*100+'vw';
    }
    m.style.animationDelay=Math.random()*2+'s';
    bg.appendChild(m);
  }

  const canvas = document.getElementById('fireworks');
  const ctx = canvas.getContext('2d');
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;

  class Particle {
    constructor(x, y, color) {
      const angle = Math.random() * 2 * Math.PI;
      const speed = Math.random() * 2 + 1.5;
      this.x = x; this.y = y; this.dx = Math.cos(angle) * speed; this.dy = Math.sin(angle) * speed;
      this.alpha = 1; this.color = color; this.size = Math.random() * 2 + 2;
    }
    update() { this.x += this.dx; this.y += this.dy; this.alpha -= 0.015; }
    draw() { ctx.globalAlpha = this.alpha; ctx.fillStyle = this.color; ctx.beginPath(); ctx.arc(this.x, this.y, this.size, 0, Math.PI*2); ctx.fill(); ctx.globalAlpha=1; }
  }

  class Firework {
    constructor() {
      this.particles = [];
      const x = Math.random() * canvas.width;
      const y = Math.random() * canvas.height * 0.5;
      const baseHue = Math.floor(Math.random() * 360);
      for (let i=0;i<22;i++){
        const color = `hsl(${(baseHue + Math.random()*60)%360},100%,60%)`;
        this.particles.push(new Particle(x, y, color));
      }
    }
  }

  const fireworks = [];
  function animateFireworks() {
    requestAnimationFrame(animateFireworks);
    ctx.fillStyle='rgba(0,0,0,0.2)';
    ctx.fillRect(0,0,canvas.width,canvas.height);
    if(Math.random()<0.05) fireworks.push(new Firework());
    fireworks.forEach((fw,i)=>{
      fw.particles.forEach(p=>{p.update();p.draw();});
      if(fw.particles.every(p=>p.alpha<=0)) fireworks.splice(i,1);
    });
  }

  const letter = document.getElementById('letterBox');
  const hint = document.getElementById('hint');
  const msgC = document.getElementById('messageContainer');
  const music = document.getElementById('bgMusic');
  const controlButtons = document.getElementById('controlButtons');

  const msgs = [
    "å˜¿ï½æˆ‘æƒ³å¤§è²å°ä½ èªª",
    "é‡è§ä½  èªè­˜ä½ ",
    "æˆ‘çœŸçš„å¾ˆé–‹å¿ƒ",
    "æ˜¯ä½ è®©æˆ‘é‡æ–°æ„Ÿå—åˆ°æ¸©åº¦",
    "ä¹Ÿæ˜¯å”¯ä¸€è®©æˆ‘å¸ä¸‹é˜²å¤‡çš„äºº",
    "æ²’å‘åˆ¥äººæèµ·çš„ç§˜å¯†",
    "ä¹Ÿåœ¨ä¸çŸ¥ä¸è§‰ä¸­å‘Šè¯‰äº†ä½ ",
    "å’Œä½ åœ¨ä¸€èµ·çš„æ—¶å€™",
    "æ„Ÿè¦ºé€£æ—¶é—´éƒ½å˜å¾—æŸ”è½¯äº†",
    "å¼€å§‹æœŸå¾…æ˜å¤©çš„åˆ°æ¥",
    "æˆ‘æ‰å‘ç°......",
    "åŸæ¥æˆ‘ä»ç„¶æ¸´æœ›è¢«çˆ±",
    "åŸæ¥æˆ‘å¯¹çˆ±æƒ…ä¾ç„¶æŠ±æœ‰æœŸå¾…~",
    "æ›¾ç»å¾ˆé•·çš„ä¸€æ®µæ—¶é—´é‡Œ",
    "æˆ‘ä»¥ä¸ºå·²ç»ä¹ æƒ¯ä¸€ä¸ªäººç”Ÿæ´»",
    "æ—¥å­è¿‡å¾—é‚„ç®—å¯ä»¥å§",
    "ä½†æ˜¯å°±æ˜¯å°‘äº†ä¸€ç‚¹æœŸå¾…",
    "ç›´åˆ°æˆ‘é‡è§äº†ä½ ",
    "æ„Ÿè¦ºå°±åƒæ˜¯å‘½è¿ç»•äº†ä¸€æ®µ",
    "å¾ˆé å¾ˆé çš„è·¯",
    "æŠŠç¾åœ¨çš„æˆ‘å¸¦åˆ°äº†ä½ é¢å‰",
    "å¦‚æœä½ æ„¿æ„",
    "æˆ‘æƒ³ä»ä»Šå¤©å¼€å§‹",
    "ç”¨æ›´è®¤çœŸçš„èº«ä»½é™ªåœ¨ä½ èº«è¾¹",
    "æœªæ¥æˆ‘ä¹Ÿä¸çŸ¥é“æœƒç™¼ç”Ÿä»€éº¼",
    "ä½†æˆ‘å¸Œæœ›éƒ½èƒ½ä¸ä½ å¹¶è‚©èµ°è¿‡",
    "è°¢è°¢ä½ å‡ºç°åœ¨æˆ‘çš„ç”Ÿå‘½é‡Œ",
    "è®©æˆ‘é‡æ–°ç›¸ä¿¡æˆ‘æœ‰å¹¸ç¦çš„å¯èƒ½",
    "æ‰€ä»¥å˜›......",
    "æˆ‘å–œæ­¡ä½ !!! åšæˆ‘å¥³æœ‹å‹å§~"
  ];

  letter.addEventListener('click', async () => {
    bg.innerHTML = '';
    canvas.style.display='block';
    animateFireworks();
    letter.style.display='none';
    hint.style.display='none';
    await music.play().catch(()=>{});

    for(let i=0;i<msgs.length;i++){
      msgC.innerHTML='';
      let div=document.createElement('div');
      div.className = i===msgs.length-1 ? 'final' : 'message';
      div.style.setProperty('--x', (Math.random()*20-10)+'px');
      msgC.appendChild(div);
      for(let j=1;j<=msgs[i].length;j++){
        div.textContent = msgs[i].slice(0,j);
        await new Promise(r=>setTimeout(r, typingSpeed));
      }
      await new Promise(r=>setTimeout(r,1000));
    }
    music.pause();
    controlButtons.style.display='flex';
  });

  function replayLetter(){
    controlButtons.style.display='none';
    msgC.innerHTML='';
    letter.click();
  }

  function returnMain(){ window.location.reload(); }
</script>
</body>
</html>





